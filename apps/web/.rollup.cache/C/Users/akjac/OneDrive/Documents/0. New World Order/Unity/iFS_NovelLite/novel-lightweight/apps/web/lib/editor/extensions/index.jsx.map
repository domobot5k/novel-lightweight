{"version":3,"file":"index.jsx","sourceRoot":"","sources":["index.tsx"],"names":[],"mappings":"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","sourcesContent":["import StarterKit from \"@tiptap/starter-kit\";\r\nimport HorizontalRule from \"@tiptap/extension-horizontal-rule\";\r\nimport TiptapLink from \"@tiptap/extension-link\";\r\nimport TiptapImage from \"@tiptap/extension-image\";\r\nimport Placeholder from \"@tiptap/extension-placeholder\";\r\nimport TiptapUnderline from \"@tiptap/extension-underline\";\r\nimport TextStyle from \"@tiptap/extension-text-style\";\r\nimport { Color } from \"@tiptap/extension-color\";\r\nimport TaskItem from \"@tiptap/extension-task-item\";\r\nimport TaskList from \"@tiptap/extension-task-list\";\r\nimport { Markdown } from \"tiptap-markdown\";\r\nimport Highlight from \"@tiptap/extension-highlight\";\r\nimport SlashCommand from \"./slash-command\";\r\nimport { InputRule } from \"@tiptap/core\";\r\nimport UploadImagesPlugin from \"@/ui/editor/plugins/upload-images\";\r\nimport UpdatedImage from \"./updated-image\";\r\nimport CustomKeymap from \"./custom-keymap\";\r\nimport DragAndDrop from \"./drag-and-drop\";\r\n\r\nexport const defaultExtensions = [\r\n  StarterKit.configure({\r\n    bulletList: {\r\n      HTMLAttributes: {\r\n        class: \"novel-list-disc novel-list-outside novel-leading-3 novel--mt-2\",\r\n      },\r\n    },\r\n    orderedList: {\r\n      HTMLAttributes: {\r\n        class:\r\n          \"novel-list-decimal novel-list-outside novel-leading-3 novel--mt-2\",\r\n      },\r\n    },\r\n    listItem: {\r\n      HTMLAttributes: {\r\n        class: \"novel-leading-normal novel--mb-2\",\r\n      },\r\n    },\r\n    blockquote: {\r\n      HTMLAttributes: {\r\n        class: \"novel-border-l-4 novel-border-stone-700\",\r\n      },\r\n    },\r\n    codeBlock: {\r\n      HTMLAttributes: {\r\n        class:\r\n          \"novel-rounded-sm novel-bg-stone-100 novel-p-5 novel-font-mono novel-font-medium novel-text-stone-800\",\r\n      },\r\n    },\r\n    code: {\r\n      HTMLAttributes: {\r\n        class:\r\n          \"novel-rounded-md novel-bg-stone-200 novel-px-1.5 novel-py-1 novel-font-mono novel-font-medium novel-text-stone-900\",\r\n        spellcheck: \"false\",\r\n      },\r\n    },\r\n    horizontalRule: false,\r\n    dropcursor: {\r\n      color: \"#DBEAFE\",\r\n      width: 4,\r\n    },\r\n    gapcursor: false,\r\n  }),\r\n  // patch to fix horizontal rule bug: https://github.com/ueberdosis/tiptap/pull/3859#issuecomment-1536799740\r\n  HorizontalRule.extend({\r\n    addInputRules() {\r\n      return [\r\n        new InputRule({\r\n          find: /^(?:---|â€”-|___\\s|\\*\\*\\*\\s)$/,\r\n          handler: ({ state, range }) => {\r\n            const attributes = {};\r\n\r\n            const { tr } = state;\r\n            const start = range.from;\r\n            let end = range.to;\r\n\r\n            tr.insert(start - 1, this.type.create(attributes)).delete(\r\n              tr.mapping.map(start),\r\n              tr.mapping.map(end)\r\n            );\r\n          },\r\n        }),\r\n      ];\r\n    },\r\n  }).configure({\r\n    HTMLAttributes: {\r\n      class: \"novel-mt-4 novel-mb-6 novel-border-t novel-border-stone-300\",\r\n    },\r\n  }),\r\n  TiptapLink.configure({\r\n    HTMLAttributes: {\r\n      class:\r\n        \"novel-text-stone-400 novel-underline novel-underline-offset-[3px] hover:novel-text-stone-600 novel-transition-colors novel-cursor-pointer\",\r\n    },\r\n  }),\r\n  TiptapImage.extend({\r\n    addProseMirrorPlugins() {\r\n      return [UploadImagesPlugin()];\r\n    },\r\n  }).configure({\r\n    allowBase64: true,\r\n    HTMLAttributes: {\r\n      class: \"novel-rounded-lg novel-border novel-border-stone-200\",\r\n    },\r\n  }),\r\n  UpdatedImage.configure({\r\n    HTMLAttributes: {\r\n      class: \"novel-rounded-lg novel-border novel-border-stone-200\",\r\n    },\r\n  }),\r\n  Placeholder.configure({\r\n    placeholder: ({ node }) => {\r\n      if (node.type.name === \"heading\") {\r\n        return `Heading ${node.attrs.level}`;\r\n      }\r\n      return \"Press '/' for commands, or '++' for AI autocomplete...\";\r\n    },\r\n    includeChildren: true,\r\n  }),\r\n  SlashCommand,\r\n  TiptapUnderline,\r\n  TextStyle,\r\n  Color,\r\n  Highlight.configure({\r\n    multicolor: true,\r\n  }),\r\n  TaskList.configure({\r\n    HTMLAttributes: {\r\n      class: \"novel-not-prose novel-pl-2\",\r\n    },\r\n  }),\r\n  TaskItem.configure({\r\n    HTMLAttributes: {\r\n      class: \"novel-flex novel-items-start novel-my-4\",\r\n    },\r\n    nested: true,\r\n  }),\r\n  Markdown.configure({\r\n    html: false,\r\n    transformCopiedText: true,\r\n    transformPastedText: true,\r\n  }),\r\n  CustomKeymap,\r\n  DragAndDrop,\r\n];\r\n"]}