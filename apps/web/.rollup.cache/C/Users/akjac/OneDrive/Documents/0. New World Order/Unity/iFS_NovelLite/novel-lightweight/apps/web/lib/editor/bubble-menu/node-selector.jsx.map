{"version":3,"file":"node-selector.jsx","sourceRoot":"","sources":["node-selector.tsx"],"names":[],"mappings":"AACA,OAAO,EACL,KAAK,EACL,WAAW,EACX,QAAQ,EACR,QAAQ,EACR,QAAQ,EACR,SAAS,EACT,WAAW,EACX,QAAQ,EACR,IAAI,EACJ,WAAW,GACZ,MAAM,cAAc,CAAC;AACtB,OAAO,KAAK,OAAO,MAAM,yBAAyB,CAAC;AAUnD,MAAM,CAAC,MAAM,YAAY,GAA0B,CAAC,EAClD,MAAM,EACN,MAAM,EACN,SAAS,GACV,EAAE,EAAE;IACH,MAAM,KAAK,GAAqB;QAC9B;YACE,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,QAAQ;YACd,OAAO,EAAE,GAAG,EAAE,CACZ,MAAM,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,UAAU,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC,GAAG,EAAE;YACnE,iGAAiG;YACjG,QAAQ,EAAE,GAAG,EAAE,CACb,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC;gBAC5B,CAAC,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC;gBAC9B,CAAC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC;SAClC;QACD;YACE,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,QAAQ;YACd,OAAO,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,aAAa,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE;YACvE,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;SACzD;QACD;YACE,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,QAAQ;YACd,OAAO,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,aAAa,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE;YACvE,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;SACzD;QACD;YACE,IAAI,EAAE,WAAW;YACjB,IAAI,EAAE,QAAQ;YACd,OAAO,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,aAAa,CAAC,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE;YACvE,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,SAAS,EAAE,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC;SACzD;QACD;YACE,IAAI,EAAE,YAAY;YAClB,IAAI,EAAE,WAAW;YACjB,OAAO,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,cAAc,EAAE,CAAC,GAAG,EAAE;YAC5D,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC;SAC5C;QACD;YACE,IAAI,EAAE,aAAa;YACnB,IAAI,EAAE,WAAW;YACjB,OAAO,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,gBAAgB,EAAE,CAAC,GAAG,EAAE;YAC9D,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC;SAC9C;QACD;YACE,IAAI,EAAE,eAAe;YACrB,IAAI,EAAE,WAAW;YACjB,OAAO,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,iBAAiB,EAAE,CAAC,GAAG,EAAE;YAC/D,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,aAAa,CAAC;SAC/C;QACD;YACE,IAAI,EAAE,OAAO;YACb,IAAI,EAAE,SAAS;YACf,OAAO,EAAE,GAAG,EAAE,CACZ,MAAM;iBACH,KAAK,EAAE;iBACP,KAAK,EAAE;iBACP,UAAU,CAAC,WAAW,EAAE,WAAW,CAAC;iBACpC,gBAAgB,EAAE;iBAClB,GAAG,EAAE;YACV,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,YAAY,CAAC;SAC9C;QACD;YACE,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,IAAI;YACV,OAAO,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC,KAAK,EAAE,CAAC,eAAe,EAAE,CAAC,GAAG,EAAE;YAC7D,QAAQ,EAAE,GAAG,EAAE,CAAC,MAAM,CAAC,QAAQ,CAAC,WAAW,CAAC;SAC7C;KACF,CAAC;IAEF,MAAM,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,CAAC,IAAI,EAAE,EAAE,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,GAAG,EAAE,IAAI;QAClE,IAAI,EAAE,UAAU;KACjB,CAAC;IAEF,OAAO,CACL,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CACzB;MAAA,CAAC,GAAG,CAAC,SAAS,CAAC,6BAA6B,CAC1C;QAAA,CAAC,OAAO,CAAC,OAAO,CACd,SAAS,CAAC,kMAAkM,CAC5M,OAAO,CAAC,CAAC,GAAG,EAAE,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,CAAC,CAElC;UAAA,CAAC,IAAI,CAAC,CAAC,UAAU,EAAE,IAAI,CAAC,EAAE,IAAI,CAC9B;UAAA,CAAC,WAAW,CAAC,SAAS,CAAC,SAAS,EAClC;QAAA,EAAE,OAAO,CAAC,OAAO,CAEjB;;QAAA,CAAC,OAAO,CAAC,OAAO,CACd,KAAK,CAAC,OAAO,CACb,SAAS,CAAC,gRAAgR,CAE1R;UAAA,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,KAAK,EAAE,EAAE,CAAC,CAC1B,CAAC,MAAM,CACL,GAAG,CAAC,CAAC,KAAK,CAAC,CACX,OAAO,CAAC,CAAC,GAAG,EAAE;gBACZ,IAAI,CAAC,OAAO,EAAE,CAAC;gBACf,SAAS,CAAC,KAAK,CAAC,CAAC;YACnB,CAAC,CAAC,CACF,SAAS,CAAC,wJAAwJ,CAClK,IAAI,CAAC,QAAQ,CAEb;cAAA,CAAC,GAAG,CAAC,SAAS,CAAC,6BAA6B,CAC1C;gBAAA,CAAC,GAAG,CAAC,SAAS,CAAC,+CAA+C,CAC5D;kBAAA,CAAC,GAAG,CACJ;kBAAA,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,qBAAqB,EAC5C;gBAAA,EAAE,GAAG,CACL;gBAAA,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CACzB;cAAA,EAAE,GAAG,CACL;cAAA,CAAC,UAAU,CAAC,IAAI,KAAK,IAAI,CAAC,IAAI,IAAI,CAChC,CAAC,KAAK,CAAC,SAAS,CAAC,qBAAqB,EAAG,CAC1C,CACH;YAAA,EAAE,MAAM,CAAC,CACV,CAAC,CACJ;QAAA,EAAE,OAAO,CAAC,OAAO,CACnB;MAAA,EAAE,GAAG,CACP;IAAA,EAAE,OAAO,CAAC,IAAI,CAAC,CAChB,CAAC;AACJ,CAAC,CAAC","sourcesContent":["import { Editor } from \"@tiptap/core\";\r\nimport {\r\n  Check,\r\n  ChevronDown,\r\n  Heading1,\r\n  Heading2,\r\n  Heading3,\r\n  TextQuote,\r\n  ListOrdered,\r\n  TextIcon,\r\n  Code,\r\n  CheckSquare,\r\n} from \"lucide-react\";\r\nimport * as Popover from \"@radix-ui/react-popover\";\r\nimport { Dispatch, FC, SetStateAction } from \"react\";\r\nimport { BubbleMenuItem } from \".\";\r\n\r\ninterface NodeSelectorProps {\r\n  editor: Editor;\r\n  isOpen: boolean;\r\n  setIsOpen: Dispatch<SetStateAction<boolean>>;\r\n}\r\n\r\nexport const NodeSelector: FC<NodeSelectorProps> = ({\r\n  editor,\r\n  isOpen,\r\n  setIsOpen,\r\n}) => {\r\n  const items: BubbleMenuItem[] = [\r\n    {\r\n      name: \"Text\",\r\n      icon: TextIcon,\r\n      command: () =>\r\n        editor.chain().focus().toggleNode(\"paragraph\", \"paragraph\").run(),\r\n      // I feel like there has to be a more efficient way to do this â€“ feel free to PR if you know how!\r\n      isActive: () =>\r\n        editor.isActive(\"paragraph\") &&\r\n        !editor.isActive(\"bulletList\") &&\r\n        !editor.isActive(\"orderedList\"),\r\n    },\r\n    {\r\n      name: \"Heading 1\",\r\n      icon: Heading1,\r\n      command: () => editor.chain().focus().toggleHeading({ level: 1 }).run(),\r\n      isActive: () => editor.isActive(\"heading\", { level: 1 }),\r\n    },\r\n    {\r\n      name: \"Heading 2\",\r\n      icon: Heading2,\r\n      command: () => editor.chain().focus().toggleHeading({ level: 2 }).run(),\r\n      isActive: () => editor.isActive(\"heading\", { level: 2 }),\r\n    },\r\n    {\r\n      name: \"Heading 3\",\r\n      icon: Heading3,\r\n      command: () => editor.chain().focus().toggleHeading({ level: 3 }).run(),\r\n      isActive: () => editor.isActive(\"heading\", { level: 3 }),\r\n    },\r\n    {\r\n      name: \"To-do List\",\r\n      icon: CheckSquare,\r\n      command: () => editor.chain().focus().toggleTaskList().run(),\r\n      isActive: () => editor.isActive(\"taskItem\"),\r\n    },\r\n    {\r\n      name: \"Bullet List\",\r\n      icon: ListOrdered,\r\n      command: () => editor.chain().focus().toggleBulletList().run(),\r\n      isActive: () => editor.isActive(\"bulletList\"),\r\n    },\r\n    {\r\n      name: \"Numbered List\",\r\n      icon: ListOrdered,\r\n      command: () => editor.chain().focus().toggleOrderedList().run(),\r\n      isActive: () => editor.isActive(\"orderedList\"),\r\n    },\r\n    {\r\n      name: \"Quote\",\r\n      icon: TextQuote,\r\n      command: () =>\r\n        editor\r\n          .chain()\r\n          .focus()\r\n          .toggleNode(\"paragraph\", \"paragraph\")\r\n          .toggleBlockquote()\r\n          .run(),\r\n      isActive: () => editor.isActive(\"blockquote\"),\r\n    },\r\n    {\r\n      name: \"Code\",\r\n      icon: Code,\r\n      command: () => editor.chain().focus().toggleCodeBlock().run(),\r\n      isActive: () => editor.isActive(\"codeBlock\"),\r\n    },\r\n  ];\r\n\r\n  const activeItem = items.filter((item) => item.isActive()).pop() ?? {\r\n    name: \"Multiple\",\r\n  };\r\n\r\n  return (\r\n    <Popover.Root open={isOpen}>\r\n      <div className=\"novel-relative novel-h-full\">\r\n        <Popover.Trigger\r\n          className=\"novel-flex novel-h-full novel-items-center novel-gap-1 novel-whitespace-nowrap novel-p-2 novel-text-sm novel-font-medium novel-text-stone-600 hover:novel-bg-stone-100 active:novel-bg-stone-200\"\r\n          onClick={() => setIsOpen(!isOpen)}\r\n        >\r\n          <span>{activeItem?.name}</span>\r\n          <ChevronDown className=\"h-4 w-4\" />\r\n        </Popover.Trigger>\r\n\r\n        <Popover.Content\r\n          align=\"start\"\r\n          className=\"novel-z-[99999] novel-my-1 novel-flex novel-max-h-80 novel-w-48 novel-flex-col novel-overflow-hidden novel-overflow-y-auto novel-rounded novel-border novel-border-stone-200 novel-bg-white novel-p-1 novel-shadow-xl novel-animate-in novel-fade-in novel-slide-in-from-top-1\"\r\n        >\r\n          {items.map((item, index) => (\r\n            <button\r\n              key={index}\r\n              onClick={() => {\r\n                item.command();\r\n                setIsOpen(false);\r\n              }}\r\n              className=\"novel-flex novel-items-center novel-justify-between novel-rounded-sm novel-px-2 novel-py-1 novel-text-sm novel-text-stone-600 hover:novel-bg-stone-100\"\r\n              type=\"button\"\r\n            >\r\n              <div className=\"flex items-center space-x-2\">\r\n                <div className=\"novel-flex novel-items-center novel-space-x-2\">\r\n                  {\" \"}\r\n                  <item.icon className=\"novel-h-3 novel-w-3\" />\r\n                </div>\r\n                <span>{item.name}</span>\r\n              </div>\r\n              {activeItem.name === item.name && (\r\n                <Check className=\"novel-h-4 novel-w-4\" />\r\n              )}\r\n            </button>\r\n          ))}\r\n        </Popover.Content>\r\n      </div>\r\n    </Popover.Root>\r\n  );\r\n};\r\n"]}